```javascript
<template>
  <div id="app">
    <!-- <HelloWorld msg="Welcome to Your Vue.js App"/> -->
    <div ref="container">
      <div class="fullscreen-button" @click="onFullscreenButtonClick">
        {{ isFullscreen ? '退出全屏' : '进入全屏' }}
      </div>
    </div>
  </div>
</template>

<script>
// import HelloWorld from './components/HelloWorld.vue'
// import Fruit from './components/Fruit.vue';
import {addListener, removeListener} from 'resize-detector';

export default {
  name: 'App',
  components: {
    // HelloWorld,
    // Fruit,
  },
  data() {
    return {
      windowResizeListener: null,
      fullscreenListener: null,
      isFullscreen: false,
    }
  },
  mounted() {
    const container = this.$refs.container;
    // 存储上一次计算fontsize时用的clientwidth
    let memoryClientWidth = null;
    const SCROLLBAR_WIDTH = 20;
    // 设计图尺寸
    const DESIGNED_WIDTH = 1920;
    this.windowResizeListener = () => {
      const targetWidth = container.clientWidth;
      this.$store.dispatch('updateContainer', container);
      if (memoryClientWidth && Math.abs(targetWidth - memoryClientWidth) < SCROLLBAR_WIDTH) {
        return;
      }
      document.documentElement.style.fontSize = `${Math.max(targetWidth / DESIGNED_WIDTH, 0.5)}px`;
      memoryClientWidth = targetWidth;
    };
    addListener(container, this.windowResizeListener);
    this.windowResizeListener();
    this.fullscreenListener = () => {
      this.isFullscreen = !!document.fullscreenElement;
    };
    document.addEventListener('fullscreenchange', this.fullscreenListener);
  },
  beforeDestroy() {
    removeListener(this.$refs.container, this.windowResizeListener);
    if (this.fullscreenListener) {
      document.removeEventListener('fullscreenchange', this.fullscreenListener);
    }
  },
  methods: {
    onFullscreenButtonClick() {
      if (this.isFullscreen) {
        this.exitFullscreen();
      } else {
        this.enterFullscreen();
      }
      this.$store.dispatch('updateIsFullscreen', !this.isFullscreen);
    },
    enterFullscreen() {
      this.$refs.container.requestFullscreen().catch(e => {
        console.log(e);
      });
    },
    exitFullscreen() {
      document.exitFullscreen();
    }
  }
}
</script>

<style>
.fullscreen-button {
  background-color: red;
  color: white;
  padding: .5em 1em;
  position: absolute;
  left: 0;
  top: 0;
  display: inline-block;
  transition: all .2s;
}
</style>

```
```javascript
import Vue from 'vue';
import Vuex from 'vuex';

Vue.use(Vuex);

const store = new Vuex.Store({
    state: {
        userInfo: {
            username: '',
            name: '',
        },
        whitelist: null,
        containerSize: { w: 0, h: 0, rem: 1, rh: 1, rw: 1 },
        isFullscreen: false,
    },
    getters: {
        containerSize: state => state.containerSize,
    },
    mutations: {
        'sso:user:login'(state, payload) {
            state.userInfo = payload;
        },
        'auth:setWhitelist'(state, payload) {
            state.whitelist = payload;
        },
        'update:container-size'(state, payload) {
            state.containerSize = {
                w: payload.clientWidth,
                h: payload.clientHeight,
                rem: payload.clientWidth / 1920,
                rw: payload.clientWidth / 1920,
                rh: payload.clientHeight / 1080,
            };
        },
        'update:isFullscreen'(state, payload) {
            state.isFullscreen = payload;
        },
    },
    actions: {
        updateContainer({ commit }, payload) {
            commit('update:container-size', payload);
        },
        updateIsFullscreen({ commit }, payload) {
            commit('update:isFullscreen', payload);
        },
    },
});
export default store;

```
```javascript
@Watch('$store.getters.containerSize.rem', { immediate: true })
setHeightRem() {
  const rem = this.$store.getters.containerSize.rem;
  this.defaultConfig.height = 240 * rem;
  this.defaultConfig.lineHeight = 40 * rem;
  this.mainConfig.height = 360 * rem;
  this.mainConfig.lineHeight = 60 * rem;
}
```
